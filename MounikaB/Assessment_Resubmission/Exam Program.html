<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

        span{
            color: red;
        }

        h1 {
            color:palevioletred;
        }

        body {
            font-family: Calibri;
            background-color: lightcyan;
        }

        form {
            text-align: center;
            font-family: Calibri;
            font-size: 20px;
            width: 400px;
            margin: 70px auto;

        }
    </style>
    <script>

        function blockSpecialChar(e) {
            var k;
            document.all ? k = e.keyCode : k = e.which;
            return ((k > 65 && k < 90) || (k > 97 && k < 122) || k == 95);
        }
        function bSpecialChar(e) {
            var k;
            document.all ? k = e.keyCode : k = e.which;
            return ((k > 64 && k < 90) || (k > 96 && k < 122) || k == 8 || k == 32 || (k >= 48 && k <= 57) || k == 45 || k == 44);
        }

        

    function validateUserName() {
            var userCtrl = document.getElementById('userName');
            if (userCtrl.value == "") {
                document.getElementById("userNameError").innerHTML = "User Name is mandatory";
                userCtrl.focus();
                return false;
            }
            else {
                if (userCtrl.value.length < 6 ) {
                    document.getElementById("userNameError").innerHTML = "Min. 6 characters are required";
                    passCtrl.focus();
                    return false;
                }
                document.getElementById("userNameError").innerHTML = "";
                return true;
            }
        }

        function validatePassword() {
            var passCtrl = document.getElementById("password");
            if (passCtrl.value == "") {
                document.getElementById("passwordError").innerHTML = "Password is mandatory";
                passCtrl.focus();
                return false;
            }
    

        else{
               
                   if(passCtrl.value.length < 6)
                        document.getElementById("passwordError").innerHTML = "Password Should contain atleast 1 upper case, 1 lower case, 1 digit , 1 spl character and minimum 6 characters ";
                        passCtrl.focus();
                        return false;
                }

                    document.getElementById("passwordError").innerHTML = "";
                    return true;
            

    }    
    function password_check() {
            pass = document.getElementById("password").value;
            console.log(pass);
            regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/;
            if (regex.exec(pass) == null) {
                document.getElementById("passwordError").innerHTML = "Password Should contain atleast 1 upper case, 1 lower case, 1 digit , 1 spl character and minimum 6 characters ";
            }
            else {
                document.getElementById("passwordError").innerHTML = "";
            }
        }


        
        function validateMobile() {
            var mobile = document.getElementById("number");
            if (mobile.value == "") {
                document.getElementById("MobilenumError").innerHTML = "Mobile number is mandatory";
                mobile.focus();
                return false;
            }

            else {
                if(mobile.value.length < 10 && mobile.value.length >10) {
                    document.getElementById("MobilenumError").innerHTML = "Mobile number Should be 10 digits only";
                    mobile.focus();
                    return false;
                }

                    document.getElementById("MobilenumError").innerHTML = "";
                    return true;

            }
        }

        function validateDateofBirth() {
            var dateofbirth = document.getElementById("dob");
            if (dateofbirth.value == "") {
                document.getElementById("doberror").innerHTML = "Date of Birth is mandatory";
                dateofbirth.focus();
                return false;
            }

            else {

                    document.getElementById("doberror").innerHTML = "";
                    return true;

            }
        }
        function checkDOB() {
            var dateString = document.getElementById('dob').value;
            var myDate = new Date(dateString);
            var today = new Date();
            if (myDate >= today) {
                document.getElementById("doberror").innerHTML = "Date of Birth should not be currentdate and above";

                return false;
            }
            else {
                document.getElementById("doberror").innerHTML = "";
                return true;

            }
        }
        function validateAddress() {
            var Address = document.getElementById("address");
          

            
            if (address.value == "" ) {
                document.getElementById("adderror").innerHTML = "Address is mandatory";
                dateofbirth.focus();
                return false;
            }

            else {

                //   reg = "[^a-zA-Z]+", "";
                //     if (reg.exec(a) == null) {
                    document.getElementById("adderror").innerHTML = "";
                    return true;
                    }
            }
        
        let reginfo = [];
        const addInfo = (e) => {
            let Info = {
                UserName: document.getElementById('userName').value,
                Password: document.getElementById('password').value,
                MobileNumber: document.getElementById('number').value,
                DateofBirth: document.getElementById('dob').value,
                Address: document.getElementById('address').value
            }
     
            let uStatus = validateUserName();
            let pStatus = validatePassword();
            let mStatus = validateMobile();
            let bStatus = validateDateofBirth();
            let aStatus = validateAddress();
            let message = [];


             if (uStatus == false || pStatus == false || mStatus == false || bStatus == false || aStatus == false) {
                 message.push('enter all Details properly')
            }
            else {
                console.log("submitted success")
            }
            e.preventDefault()





            reginfo.push(Info);
            document.forms[0].reset();
            console.warn('added', { reginfo });
            // let pre = document.querySelector('#msg pre');
            // pre.textContent = '\n' + JSON.stringify(reginfo, '\t', 5);

        }
        document.addEventListener('DOMContentLoaded', () => {

            document.getElementById('btn').addEventListener('click', addInfo);
        });

 </script>
 
</head>
<body>
    <h1 align="center">Registration Form</h1>
    <form   novalidate onsubmit="validateData()" >
        <table border="1" cellpadding="10" cellspacing="0" align="center">
            <tr>
                <td>Enter User Name <span>*</span> </td>
                <td>
                    <input type="text" id="userName" value="" placeholder="User Name" onblur="validateUserName()"
                     required onkeypress="return blockSpecialChar(event)"> <br>
                    <span id="userNameError"></span>
                </td>
            </tr>
            <tr>
                <td>Enter Password <span>*</span> </td>
                <td>
                    <input type="password" id="password" value="" placeholder="Password" onblur="password_check()" >
                    <br>
                    <span id="passwordError"></span>
                </td>
            </tr>
            <tr>
                <td>Enter Mobile Number <span>*</span> </td>
                <td>
                    <input type="number" id="number" value="" placeholder="Mobile Number" onblur="validateMobile()" required>
                    <br>
                    <span id="MobilenumError"></span>
                </td>
            </tr>
            <tr>
                <td>Enter Date of Birth <span>*</span> </td>
                <td>
                    <input type="date" id="dob" value="" placeholder="Date of Birth"  onblur="checkDOB()" required>
                    <br>
                    <span id="doberror"></span>
                </td>
            </tr>
            <tr>
                <td>Enter Address <span>*</span> </td>
                <td>
                    <input type="text" id="address" value="" placeholder="Address"  onblur="validateAddress()"  onkeypress="return bSpecialChar(event)" required>
                    

                    <br>
                    <span id="adderror"></span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="button" id='btn' value="Register User"s>
                </td>
            </tr>
        </table>
    </form>


 
</body>
</html>

